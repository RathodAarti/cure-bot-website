@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light; }

html, body, #root { height: 100%; }

body {
  @apply text-gray-900 antialiased;
  background: #FFFFFF; /* Pure white base */
}

.dark body {
  background: #121212; /* App dark base */
  @apply text-gray-100; /* light text in dark mode */
}

.btn { /* primary */
  @apply px-5 py-3 rounded-full text-white shadow-sm transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  background-color: #059669; /* Emerald 600 */
}
.btn:hover { background-color: #047857; }
.btn:active { background-color: #065f46; }
.btn:focus-visible { box-shadow: 0 0 0 2px #CFE8D8; }

.btn-outline {
  @apply px-5 py-3 rounded-full bg-white text-gray-800 border shadow-sm transition-colors focus:outline-none focus-visible:ring-2;
  border-color: #CFE8D8; /* soft green border */
}
.btn-outline:hover { background-color: #F9FAFB; }
.btn-outline:active { background-color: #F3F4F6; }
.btn-outline:focus-visible { box-shadow: 0 0 0 2px #CFE8D8; }

.input {
  @apply w-full px-5 py-3 rounded-full border bg-white shadow-inner focus:outline-none focus-visible:ring-2;
  border-color: #CFE8D8;
}
.input:focus { border-color: #059669; }
.input:focus-visible { box-shadow: 0 0 0 2px #CFE8D8; }

/* Dark: inputs switch to gray with dark border */
.dark .input {
  background-color: #000000; /* white -> black */
  color: #E5E7EB;
  border-color: #2E2F33;
}
.dark .input::placeholder { color: #9CA3AF; }

/* Dark: input focus uses emerald border */
.dark .input:focus { border-color: #059669; }

.card {
  @apply bg-white shadow-sm rounded-2xl border;
  border-color: #CFE8D8;
}

/* Dark: cards become gray/near-black with subtle border */
.dark .card {
  @apply shadow-sm;
  background-color: #000000; /* white -> black */
  border-color: #2E2F33;
}

.icon-btn {
  @apply w-11 h-11 inline-flex items-center justify-center rounded-full bg-white border text-gray-700 shadow-sm focus:outline-none;
  border-color: #CFE8D8;
}
.icon-btn:hover { background-color: #F9FAFB; }
.icon-btn:focus-visible { box-shadow: 0 0 0 2px #CFE8D8; }

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

.sticky-shadow { @apply shadow-sm; }

/* typing indicator dots */
@keyframes dotPulse {
  0%, 80%, 100% { opacity: .2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-3px); }
}
.typing-dots span:nth-child(1) { animation: dotPulse 1s infinite ease-in-out; }
.typing-dots span:nth-child(2) { animation: dotPulse 1s infinite ease-in-out .15s; }
.typing-dots span:nth-child(3) { animation: dotPulse 1s infinite ease-in-out .3s; }

/* gentle hover lift for cards */
.card { transition: transform .12s ease, box-shadow .12s ease; }
.card:hover { transform: translateY(-1px); }

/* subtle press effect on buttons */
.btn, .btn-outline, .icon-btn { transition: transform .08s ease; }
.btn:active, .btn-outline:active, .icon-btn:active { transform: scale(0.98); }

/* utility for optional fade-in */
.fade-in { animation: fadeInUp .24s ease-out; }

/* Dark mode overrides: switch to gray/black accents */
.dark .btn {
  background-color: #059669; /* emerald in dark mode too */
}
.dark .btn:hover { background-color: #047857; }
.dark .btn:active { background-color: #065f46; }
.dark .btn:focus-visible { box-shadow: 0 0 0 2px #065f46; }

.dark .btn-outline {
  @apply text-gray-100;
  background-color: #000000; /* white -> black */
  border-color: #065f46; /* green edge */
}
.dark .btn-outline:hover { background-color: #0B0B0C; }
.dark .btn-outline:active { background-color: #000000; }
.dark .btn-outline:focus-visible { box-shadow: 0 0 0 2px #065f46; }

.dark .icon-btn {
  @apply text-gray-100;
  background-color: #000000;
  border-color: #065f46;
}
.dark .icon-btn:hover { background-color: #0B0B0C; }
.dark .icon-btn:focus-visible { box-shadow: 0 0 0 2px #065f46; }
/* Left-align chat placeholder/input when empty */
#message:placeholder-shown {
  text-align: left;
}


/* ---------- Responsive/mobile helpers ---------- */
/* Images and media shrink in small screens */
img, video, canvas { max-width: 100%; height: auto; }

/* Prevent layout breaking due to long content */
.break-any { overflow-wrap: anywhere; word-break: break-word; }

/* Make tables scroll horizontally on mobile */
.table-wrap { overflow-x: auto; -webkit-overflow-scrolling: touch; }

/* Touch-friendly min tap sizes */
button, .btn, .btn-outline, .icon-btn, input, select, textarea { min-height: 44px; }

/* Reduce paddings/rounding on very small screens */
@media (max-width: 640px) {
  .btn, .btn-outline { padding-left: 14px; padding-right: 14px; padding-top: 10px; padding-bottom: 10px; }
  .input { padding-left: 14px; padding-right: 14px; padding-top: 10px; padding-bottom: 10px; }
  .card { border-radius: 18px; }
  body { padding-left: 10px; padding-right: 10px; }
}

/* Disable hover lift on touch devices */
@media (hover: none) and (pointer: coarse) {
  .card:hover { transform: none; }
}

/* Respect iOS safe areas */
@supports (padding: max(0px)) {
  body { padding-bottom: max(0px, env(safe-area-inset-bottom)); }
}

/* Consistent chat column width and padding */
.chat-column {
  max-width: 960px;
  width: 100%;
  margin-left: auto;  /* center */
  margin-right: auto;
  padding-left: 1rem; /* same as px-4 */
  padding-right: 1rem;
}

/* Optional right shift (manual, as requested) */
.shift-right { position: relative; right: -150px; }
@media (max-width: 767px) { .shift-right { right: 0; } }

/* Nudge only the bottom composer slightly to the right (desktop), keep centered on mobile */
.composer-nudge { position: relative; left: 20px; }
@media (max-width: 767px) { .composer-nudge { left: 0; } }

/* Left-align a chat-column (override centering) */
.left-align { margin-left: 0 !important; margin-right: auto !important; }

/* Optional left shift (manual, as requested) */
.left-shift { position: relative; left: -85px; }
@media (max-width: 767px) { .left-shift { left: 0; } }
